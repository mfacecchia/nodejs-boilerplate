<!DOCTYPE html>

<html lang = "en">
    <%- include('../partials/head.partial.ejs', {
        title: 'Email verification',
    }) %>
    <body>
        <section id = "welcome">
            <% if(successful){ %>
                <div class = "title flex flex-col items-center">
                    <h1>You're all set up!</h1>
                    <p class = "w-5/6 2xl:w-3/5">
                        Your Email address has been verified and all application's features has been enabled.
                    </p>
                </div>
                <a class = "btn btn-primary btn-outline mt-5" href = "/login" tabindex = "0">Go to login</a>
            <% } else{ %>
                <div class = "title flex flex-col items-center">
                    <h1>Verification failed</h1>
                    <p class = "w-5/6 2xl:w-3/5">
                        Could not verificate your Email address. The verification code could be expired, invalid, or your email address not existent anymore. Please try again or <a class = "text-primary" href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ&pp=ygUXbmV2ZXIgZ29ubmEgZ2l2ZSB5b3UgdXA%3D" title = "Our support email, definitely not a rickroll.">contact the support</a> and let us know.
                    </p>
                </div>
                    <a class = "btn btn-primary btn-outline mt-5" onclick = "requestNewEmailVerificationCode()" onkeyup = "requestNewEmailVerificationCode(event.code)" tabindex = "0">Re-send verification code</a>
                <% } %>
        </section>

        <div class = "toast"></div>
        
        <% if(!successful){ %>
            <script src = "/script/utils/isObject.utility.js"></script>
            <script src = "/script/utils/createElement.utility.js"></script>
            <script src = "/script/utils/displayMessage.utility.js"></script>
            <script src = "/script/utils/fetchFromServer.utility.js"></script>
            <script src = "/script/auth/emailVerificationGeneration.auth.js"></script>
        <% } %>
    </body>
</html>